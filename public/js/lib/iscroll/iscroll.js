!function(t,o){function e(t){return""===s?t:(t=t.charAt(0).toUpperCase()+t.substr(1),s+t)}var n=Math,i=[],r=o.createElement("div").style,s=function(){for(var t,o="webkitT,MozT,msT,OT,t".split(","),e=0,n=o.length;n>e;e++)if(t=o[e]+"ransform",t in r)return o[e].substr(0,o[e].length-1);return!1}(),l=s?"-"+s.toLowerCase()+"-":"",a=e("transform"),c=e("transitionProperty"),p=e("transitionDuration"),u=e("transformOrigin"),m=e("transitionTimingFunction"),f=(e("transitionDelay"),/android/gi.test(navigator.appVersion)),d=/hp-tablet/gi.test(navigator.appVersion),h=e("perspective")in r,S="ontouchstart"in t&&!d,v=!!s,x=e("transition")in r,b="onorientationchange"in t?"orientationchange":"resize",y=S?"touchstart":"mousedown",T=S?"touchmove":"mousemove",_=S?"touchend":"mouseup",g=S?"touchcancel":"mouseup",Y=function(){if(s===!1)return!1;var t={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return t[s]}(),w=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),X=function(){return t.cancelRequestAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),E=h?" translateZ(0)":"",D=function(e,n){var i,r=this;r.wrapper="object"==typeof e?e:o.getElementById(e),r.wrapper.style.overflow="hidden",r.scroller=r.wrapper.children[0],r.translateZ=E,r.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(i in n)r.options[i]=n[i];r.x=r.options.x,r.y=r.options.y,r.options.useTransform=v&&r.options.useTransform,r.options.useTransition=x&&r.options.useTransition,r.scroller.style[c]=r.options.useTransform?l+"transform":"top left",r.scroller.style[p]="0",r.scroller.style[u]="0 0",r.options.useTransition&&(r.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),r.options.useTransform?r.scroller.style[a]="translate("+r.x+"px,"+r.y+"px)"+E:r.scroller.style.cssText+=";position:absolute;top:"+r.y+"px;left:"+r.x+"px",r.refresh(),r._bind(b,t),r._bind(y),r.options.checkDOMChanges&&(r.checkDOMTime=setInterval(function(){r._checkDOMChanges()},500))};D.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,isStopScrollAction:!1,handleEvent:function(t){var o=this;switch(t.type){case y:if(!S&&0!==t.button)return;o._start(t);break;case T:o._move(t);break;case _:case g:o._end(t);break;case b:o._resize();break;case Y:o._transitionEnd(t)}},_checkDOMChanges:function(){this.moved||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_resize:function(){var t=this;setTimeout(function(){t.refresh()},f?200:0)},_pos:function(t,o){t=this.hScroll?t:0,o=this.vScroll?o:0,this.options.useTransform?this.scroller.style[a]="translate("+t+"px,"+o+"px) scale("+this.scale+")"+E:(t=n.round(t),o=n.round(o),this.scroller.style.left=t+"px",this.scroller.style.top=o+"px"),this.x=t,this.y=o},_start:function(o){var e,i,r,s=this,l=S?o.touches[0]:o;s.enabled&&(s.options.onBeforeScrollStart&&s.options.onBeforeScrollStart.call(s,o),s.options.useTransition&&s._transitionTime(0),s.moved=!1,s.animating=!1,s.distX=0,s.distY=0,s.absDistX=0,s.absDistY=0,s.dirX=0,s.dirY=0,s.isStopScrollAction=!1,s.options.momentum&&(s.options.useTransform?(e=getComputedStyle(s.scroller,null)[a].replace(/[^0-9\-.,]/g,"").split(","),i=+e[4],r=+e[5]):(i=+getComputedStyle(s.scroller,null).left.replace(/[^0-9-]/g,""),r=+getComputedStyle(s.scroller,null).top.replace(/[^0-9-]/g,"")),(n.round(i)!=n.round(s.x)||n.round(r)!=n.round(s.y))&&(s.isStopScrollAction=!0,s.options.useTransition?s._unbind(Y):X(s.aniTime),s.steps=[],s._pos(i,r),s.options.onScrollEnd&&s.options.onScrollEnd.call(s))),s.startX=s.x,s.startY=s.y,s.pointX=l.pageX,s.pointY=l.pageY,s.startTime=o.timeStamp||Date.now(),s.options.onScrollStart&&s.options.onScrollStart.call(s,o),s._bind(T,t),s._bind(_,t),s._bind(g,t))},_move:function(t){var o=this,e=S?t.touches[0]:t,i=e.pageX-o.pointX,r=e.pageY-o.pointY,s=o.x+i,l=o.y+r,a=t.timeStamp||Date.now();o.options.onBeforeScrollMove&&o.options.onBeforeScrollMove.call(o,t),o.pointX=e.pageX,o.pointY=e.pageY,(s>0||s<o.maxScrollX)&&(s=o.options.bounce?o.x+i/2:s>=0||o.maxScrollX>=0?0:o.maxScrollX),(l>o.minScrollY||l<o.maxScrollY)&&(l=o.options.bounce?o.y+r/2:l>=o.minScrollY||o.maxScrollY>=0?o.minScrollY:o.maxScrollY),o.distX+=i,o.distY+=r,o.absDistX=n.abs(o.distX),o.absDistY=n.abs(o.distY),o.absDistX<6&&o.absDistY<6||(o.options.lockDirection&&(o.absDistX>o.absDistY+5?(l=o.y,r=0):o.absDistY>o.absDistX+5&&(s=o.x,i=0)),o.moved=!0,o._beforePos?o._beforePos(l,r)&&o._pos(s,l):o._pos(s,l),o.dirX=i>0?-1:0>i?1:0,o.dirY=r>0?-1:0>r?1:0,a-o.startTime>300&&(o.startTime=a,o.startX=o.x,o.startY=o.y),o.options.onScrollMove&&o.options.onScrollMove.call(o,t))},_end:function(e){if(!S||0===e.touches.length){var i,r,s,l=this,a=S?e.changedTouches[0]:e,c={dist:0,time:0},p={dist:0,time:0},u=(e.timeStamp||Date.now())-l.startTime,m=l.x,f=l.y;if(l._unbind(T,t),l._unbind(_,t),l._unbind(g,t),l.options.onBeforeScrollEnd&&l.options.onBeforeScrollEnd.call(l,e),!l.moved)return S&&this.options.handleClick&&!l.isStopScrollAction&&(l.doubleTapTimer=setTimeout(function(){for(l.doubleTapTimer=null,i=a.target;1!=i.nodeType;)i=i.parentNode;"SELECT"!=i.tagName&&"INPUT"!=i.tagName&&"TEXTAREA"!=i.tagName&&(r=o.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,e.view,1,a.screenX,a.screenY,a.clientX,a.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),r._fake=!0,i.dispatchEvent(r))},0)),l._resetPos(400),void(l.options.onTouchEnd&&l.options.onTouchEnd.call(l,e));if(300>u&&l.options.momentum&&(c=m?l._momentum(m-l.startX,u,-l.x,l.scrollerW-l.wrapperW+l.x,l.options.bounce?l.wrapperW:0):c,p=f?l._momentum(f-l.startY,u,-l.y,l.maxScrollY<0?l.scrollerH-l.wrapperH+l.y-l.minScrollY:0,l.options.bounce?l.wrapperH:0):p,m=l.x+c.dist,f=l.y+p.dist,(l.x>0&&m>0||l.x<l.maxScrollX&&m<l.maxScrollX)&&(c={dist:0,time:0}),(l.y>l.minScrollY&&f>l.minScrollY||l.y<l.maxScrollY&&f<l.maxScrollY)&&(p={dist:0,time:0})),c.dist||p.dist)return s=n.max(n.max(c.time,p.time),10),l.scrollTo(n.round(m),n.round(f),s),void(l.options.onTouchEnd&&l.options.onTouchEnd.call(l,e));l._resetPos(200),l.options.onTouchEnd&&l.options.onTouchEnd.call(l,e)}},_resetPos:function(t){var o=this,e=o.x>=0?0:o.x<o.maxScrollX?o.maxScrollX:o.x,n=o.y>=o.minScrollY||o.maxScrollY>0?o.minScrollY:o.y<o.maxScrollY?o.maxScrollY:o.y;return e==o.x&&n==o.y?void(o.moved&&(o.moved=!1,o.options.onScrollEnd&&o.options.onScrollEnd.call(o),o._afterPos&&o._afterPos())):void o.scrollTo(e,n,t||0)},_transitionEnd:function(t){var o=this;t.target==o.scroller&&(o._unbind(Y),o._startAni())},_startAni:function(){var t,o,e,i=this,r=i.x,s=i.y,l=Date.now();if(!i.animating){if(!i.steps.length)return void i._resetPos(400);if(t=i.steps.shift(),t.x==r&&t.y==s&&(t.time=0),i.animating=!0,i.moved=!0,i.options.useTransition)return i._transitionTime(t.time),i._pos(t.x,t.y),i.animating=!1,void(t.time?i._bind(Y):i._resetPos(0));e=function(){var a,c,p=Date.now();return p>=l+t.time?(i._pos(t.x,t.y),i.animating=!1,i.options.onAnimationEnd&&i.options.onAnimationEnd.call(i),void i._startAni()):(p=(p-l)/t.time-1,o=n.sqrt(1-p*p),a=(t.x-r)*o+r,c=(t.y-s)*o+s,i._pos(a,c),void(i.animating&&(i.aniTime=w(e))))},e()}},_transitionTime:function(t){t+="ms",this.scroller.style[p]=t},_momentum:function(t,o,e,i,r){var s=6e-4,l=n.abs(t)*(this.options.speedScale||1)/o,a=l*l/(2*s),c=0,p=0;return t>0&&a>e?(p=r/(6/(a/l*s)),e+=p,l=l*e/a,a=e):0>t&&a>i&&(p=r/(6/(a/l*s)),i+=p,l=l*i/a,a=i),a*=0>t?-1:1,c=l/s,{dist:a,time:n.round(c)}},_offset:function(t){for(var o=-t.offsetLeft,e=-t.offsetTop;t=t.offsetParent;)o-=t.offsetLeft,e-=t.offsetTop;return t!=this.wrapper&&(o*=this.scale,e*=this.scale),{left:o,top:e}},_bind:function(t,o,e){i.concat([o||this.scroller,t,this]),(o||this.scroller).addEventListener(t,this,!!e)},_unbind:function(t,o,e){(o||this.scroller).removeEventListener(t,this,!!e)},destroy:function(){var o=this;o.scroller.style[a]="",o._unbind(b,t),o._unbind(y),o._unbind(T,t),o._unbind(_,t),o._unbind(g,t),o.options.useTransition&&o._unbind(Y),o.options.checkDOMChanges&&clearInterval(o.checkDOMTime),o.options.onDestroy&&o.options.onDestroy.call(o);for(var e=0,n=i.length;n>e;)i[e].removeEventListener(i[e+1],i[e+2]),i[e]=null,e+=3;i=[]},refresh:function(){var t,o=this;o.wrapperW=o.wrapper.clientWidth||1,o.wrapperH=o.wrapper.clientHeight||1,o.minScrollY=-o.options.topOffset||0,o.scrollerW=n.round(o.scroller.offsetWidth*o.scale),o.scrollerH=n.round((o.scroller.offsetHeight+o.minScrollY)*o.scale),o.maxScrollX=o.wrapperW-o.scrollerW,o.maxScrollY=o.wrapperH-o.scrollerH+o.minScrollY,o.dirX=0,o.dirY=0,o.options.onRefresh&&o.options.onRefresh.call(o),o.hScroll=o.options.hScroll&&o.maxScrollX<0,o.vScroll=o.options.vScroll&&(!o.options.bounceLock&&!o.hScroll||o.scrollerH>o.wrapperH),t=o._offset(o.wrapper),o.wrapperOffsetLeft=-t.left,o.wrapperOffsetTop=-t.top,o.scroller.style[p]="0",o._resetPos(400)},scrollTo:function(t,o,e,n){var i,r,s=this,l=t;for(s.stop(),l.length||(l=[{x:t,y:o,time:e,relative:n}]),i=0,r=l.length;r>i;i++)l[i].relative&&(l[i].x=s.x-l[i].x,l[i].y=s.y-l[i].y),s.steps.push({x:l[i].x,y:l[i].y,time:l[i].time||0});s._startAni()},scrollToElement:function(t,o){var e,i=this;t=t.nodeType?t:i.scroller.querySelector(t),t&&(e=i._offset(t),e.left+=i.wrapperOffsetLeft,e.top+=i.wrapperOffsetTop,e.left=e.left>0?0:e.left<i.maxScrollX?i.maxScrollX:e.left,e.top=e.top>i.minScrollY?i.minScrollY:e.top<i.maxScrollY?i.maxScrollY:e.top,o=void 0===o?n.max(2*n.abs(e.left),2*n.abs(e.top)):o,i.scrollTo(e.left,e.top,o))},scrollToPage:function(t,o,e){var n,i,r=this;e=void 0===e?400:e,r.options.onScrollStart&&r.options.onScrollStart.call(r),n=-r.wrapperW*t,i=-r.wrapperH*o,n<r.maxScrollX&&(n=r.maxScrollX),i<r.maxScrollY&&(i=r.maxScrollY),r.scrollTo(n,i,e)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(T,t),this._unbind(_,t),this._unbind(g,t)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(Y):X(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},isReady:function(){return!this.moved&&!this.animating}},r=null,"undefined"!=typeof exports?exports.iScroll=D:t.iScroll=D,function(t,o,e){if(t){var n,i=o.iScroll,r=[].slice,s=function(){var t={},o=0,n="_sid";return function(i,r){var s=i[n]||(i[n]=++o);return r!==e&&(t[s]=r),null===r&&delete t[s],t[s]}}();o.iScroll=n=function(t,o){var e=([].slice.call(arguments,0),new i(t,o));return s(t,e),e},n.prototype=i.prototype,t.fn.iScroll=function(o){var i,l,a=r.call(arguments,1),c="string"==typeof o&&o;return t.each(this,function(r,p){if(l=s(p)||n(p,t.isPlainObject(o)?o:e),"this"===c)return i=l,!1;if(c){if(!t.isFunction(l[c]))throw new Error("iScroll没有此方法："+c);if(i=l[c].apply(l,a),i!==e&&i!==l)return!1;i=e}}),i!==e?i:this}}}(t.Zepto||null,t)}(window,document);